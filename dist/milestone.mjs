(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.cdx-milestone{margin:0;position:relative;display:grid;grid-template-columns:minmax(240px,2fr) minmax(170px,1fr) minmax(200px,1.2fr) minmax(220px,1.5fr);gap:8px 12px;align-items:start;border:1px solid var(--milestone-border, #bae6fd);background:var(--milestone-bg, #f0f9ff);border-radius:10px;padding:10px 12px 12px;--milestone-accent: #0284c7;--milestone-text: #0f172a;--milestone-muted: #475569;--milestone-focus-ring: rgba(2, 132, 199, .25);--milestone-chip-bg: #e0f2fe;--milestone-chip-border: #7dd3fc}.cdx-milestone:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;border-radius:10px 0 0 10px;background:var(--milestone-accent)}.cdx-milestone__item{display:flex;align-items:baseline;gap:8px;min-width:0}.cdx-milestone__label{display:inline-flex;align-items:center;gap:6px;color:var(--milestone-muted);font-size:12px;line-height:1.4;white-space:nowrap;flex:0 0 auto;-webkit-user-select:none;user-select:none}.cdx-milestone__label-icon{width:14px;height:14px;display:inline-flex;align-items:center;justify-content:center;color:var(--milestone-accent)}.cdx-milestone__value{position:relative;flex:1 1 auto;min-width:60px;min-height:22px;padding:0 2px 2px;border:none!important;border-bottom:1px solid rgba(2,132,199,.35)!important;border-radius:0!important;background:transparent!important;box-shadow:none!important;outline:none;line-height:1.5;color:var(--milestone-text)}.cdx-milestone__value[contentEditable=true][data-placeholder]:before{position:absolute;left:2px;bottom:2px;content:attr(data-placeholder);color:#475569b3;opacity:0;pointer-events:none}.cdx-milestone__value[contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-milestone__value[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-milestone__value[contentEditable=true]:focus{border-bottom-color:var(--milestone-accent)!important;box-shadow:0 2px #0284c72e}.cdx-milestone__chip-btn{flex:0 0 auto;border:1px solid var(--milestone-chip-border);background:var(--milestone-chip-bg);color:#075985;border-radius:999px;padding:2px 8px;font-size:12px;line-height:1.4;cursor:pointer;-webkit-user-select:none;user-select:none}.cdx-milestone__chip-btn:hover{background:#bae6fd;border-color:#38bdf8}.cdx-milestone__chip-btn:focus-visible{outline:none;box-shadow:0 0 0 3px var(--milestone-focus-ring)}.cdx-milestone__chooser{grid-column:1 / -1;margin-top:8px;background:#ffffff;border:1px solid #d3d9e2;box-shadow:0 6px 20px #0f172a29;border-radius:8px;padding:10px 10px 8px;max-height:320px;overflow:auto;display:none}.cdx-milestone__chooser.is-open{display:block}.cdx-milestone__chooser-header{display:flex;gap:8px;align-items:center;margin-bottom:8px}.cdx-milestone__chooser-title{font-size:12px;font-weight:700;color:#0f172a;-webkit-user-select:none;user-select:none}.cdx-milestone__chooser-spacer{flex:1}.cdx-milestone__chooser-input{flex:1;min-width:140px;font-size:13px;padding:6px 8px;border-radius:6px;border:1px solid #d3d9e2}.cdx-milestone__chooser-close{border:1px solid #e2e8f0;background:#f8fafc;color:#334155;border-radius:8px;padding:4px 10px;font-size:12px;cursor:pointer}.cdx-milestone__chooser-list{display:grid;grid-template-columns:repeat(4,minmax(160px,1fr));gap:6px 8px}.cdx-milestone__chooser-item{border:1px solid #e2e8f0;background:#ffffff;border-radius:8px;padding:6px 8px;cursor:pointer;font-size:13px;line-height:1.4;color:#0f172a;-webkit-user-select:none;user-select:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cdx-milestone__chooser-item:hover{background:#f1f5f9}.cdx-milestone__chooser-item.is-selected{border-color:#38bdf8;background:#e0f2fe}.cdx-milestone__chooser-footer{display:flex;justify-content:flex-end;gap:8px;margin-top:10px}.cdx-milestone__btn{font-size:12px;line-height:1.4;padding:6px 12px;border-radius:8px;border:1px solid #d3d9e2;background:#ffffff;cursor:pointer}.cdx-milestone__btn.primary{border-color:#38bdf8;background:#0284c7;color:#fff}.cdx-milestone__hint{grid-column:1 / -1;color:#64748b;font-size:12px;line-height:1.4;-webkit-user-select:none;user-select:none}@media (max-width: 1100px){.cdx-milestone{grid-template-columns:minmax(240px,2fr) minmax(180px,1fr) minmax(240px,1.5fr)}}@media (max-width: 820px){.cdx-milestone{grid-template-columns:minmax(240px,2fr) minmax(180px,1fr)}.cdx-milestone__chooser-list{grid-template-columns:repeat(2,minmax(160px,1fr))}}@media (max-width: 560px){.cdx-milestone,.cdx-milestone__chooser-list{grid-template-columns:1fr}}')),document.head.appendChild(e)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();
const He = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>', ie = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.8197 6.04369C11.8924 5.8925 12.1076 5.8925 12.1803 6.04369L13.9776 9.78496C14.0068 9.84564 14.0645 9.88759 14.1312 9.89657L18.2448 10.4498C18.411 10.4722 18.4776 10.6769 18.3562 10.7927L15.3535 13.6582C15.3048 13.7047 15.2827 13.7726 15.2948 13.8388L16.0398 17.922C16.0699 18.087 15.8957 18.2136 15.7481 18.1339L12 16.1124L8.25192 18.1339C8.10429 18.2136 7.93012 18.087 7.96022 17.922L8.7052 13.8388C8.71728 13.7726 8.69523 13.7047 8.64652 13.6582L5.64378 10.7927C5.52244 10.6769 5.58896 10.4722 5.7552 10.4498L9.86876 9.89657C9.93549 9.88759 9.99322 9.84564 10.0224 9.78496L11.8197 6.04369Z"/></svg>', De = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>', Re = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M12 10C12.7145 10 13.239 9.56559 13.5392 9.11536C13.844 8.65814 14 8.0841 14 7.5C14 6.9159 13.844 6.34186 13.5392 5.88464C13.239 5.43441 12.7145 5 12 5C11.2855 5 10.761 5.43441 10.4608 5.88464C10.156 6.34186 10 6.9159 10 7.5C10 8.0841 10.156 8.65814 10.4608 9.11536C10.761 9.56559 11.2855 10 12 10Z"/><ellipse cx="12" cy="16" stroke="currentColor" stroke-width="2" rx="3" ry="5" transform="rotate(-90 12 16)"/></svg>';
var v = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function We(e) {
  if (e.__esModule)
    return e;
  var t = e.default;
  if (typeof t == "function") {
    var n = function r() {
      return this instanceof r ? Reflect.construct(t, arguments, this.constructor) : t.apply(this, arguments);
    };
    n.prototype = t.prototype;
  } else
    n = {};
  return Object.defineProperty(n, "__esModule", { value: !0 }), Object.keys(e).forEach(function(r) {
    var o = Object.getOwnPropertyDescriptor(e, r);
    Object.defineProperty(n, r, o.get ? o : {
      enumerable: !0,
      get: function() {
        return e[r];
      }
    });
  }), n;
}
var a = {}, O = {}, j = {};
Object.defineProperty(j, "__esModule", { value: !0 });
j.allInputsSelector = qe;
function qe() {
  var e = ["text", "password", "email", "number", "search", "tel", "url"];
  return "[contenteditable=true], textarea, input:not([type]), " + e.map(function(t) {
    return 'input[type="'.concat(t, '"]');
  }).join(", ");
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.allInputsSelector = void 0;
  var t = j;
  Object.defineProperty(e, "allInputsSelector", { enumerable: !0, get: function() {
    return t.allInputsSelector;
  } });
})(O);
var f = {}, L = {};
Object.defineProperty(L, "__esModule", { value: !0 });
L.isNativeInput = Ue;
function Ue(e) {
  var t = [
    "INPUT",
    "TEXTAREA"
  ];
  return e && e.tagName ? t.includes(e.tagName) : !1;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.isNativeInput = void 0;
  var t = L;
  Object.defineProperty(e, "isNativeInput", { enumerable: !0, get: function() {
    return t.isNativeInput;
  } });
})(f);
var se = {}, T = {};
Object.defineProperty(T, "__esModule", { value: !0 });
T.append = ze;
function ze(e, t) {
  Array.isArray(t) ? t.forEach(function(n) {
    e.appendChild(n);
  }) : e.appendChild(t);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.append = void 0;
  var t = T;
  Object.defineProperty(e, "append", { enumerable: !0, get: function() {
    return t.append;
  } });
})(se);
var k = {}, w = {};
Object.defineProperty(w, "__esModule", { value: !0 });
w.blockElements = Ke;
function Ke() {
  return [
    "address",
    "article",
    "aside",
    "blockquote",
    "canvas",
    "div",
    "dl",
    "dt",
    "fieldset",
    "figcaption",
    "figure",
    "footer",
    "form",
    "h1",
    "h2",
    "h3",
    "h4",
    "h5",
    "h6",
    "header",
    "hgroup",
    "hr",
    "li",
    "main",
    "nav",
    "noscript",
    "ol",
    "output",
    "p",
    "pre",
    "ruby",
    "section",
    "table",
    "tbody",
    "thead",
    "tr",
    "tfoot",
    "ul",
    "video"
  ];
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.blockElements = void 0;
  var t = w;
  Object.defineProperty(e, "blockElements", { enumerable: !0, get: function() {
    return t.blockElements;
  } });
})(k);
var le = {}, M = {};
Object.defineProperty(M, "__esModule", { value: !0 });
M.calculateBaseline = Ve;
function Ve(e) {
  var t = window.getComputedStyle(e), n = parseFloat(t.fontSize), r = parseFloat(t.lineHeight) || n * 1.2, o = parseFloat(t.paddingTop), i = parseFloat(t.borderTopWidth), s = parseFloat(t.marginTop), l = n * 0.8, c = (r - n) / 2, d = s + i + o + c + l;
  return d;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.calculateBaseline = void 0;
  var t = M;
  Object.defineProperty(e, "calculateBaseline", { enumerable: !0, get: function() {
    return t.calculateBaseline;
  } });
})(le);
var ae = {}, S = {}, N = {}, I = {};
Object.defineProperty(I, "__esModule", { value: !0 });
I.isContentEditable = Ge;
function Ge(e) {
  return e.contentEditable === "true";
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.isContentEditable = void 0;
  var t = I;
  Object.defineProperty(e, "isContentEditable", { enumerable: !0, get: function() {
    return t.isContentEditable;
  } });
})(N);
Object.defineProperty(S, "__esModule", { value: !0 });
S.canSetCaret = Ye;
var Qe = f, Xe = N;
function Ye(e) {
  var t = !0;
  if ((0, Qe.isNativeInput)(e))
    switch (e.type) {
      case "file":
      case "checkbox":
      case "radio":
      case "hidden":
      case "submit":
      case "button":
      case "image":
      case "reset":
        t = !1;
        break;
    }
  else
    t = (0, Xe.isContentEditable)(e);
  return t;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.canSetCaret = void 0;
  var t = S;
  Object.defineProperty(e, "canSetCaret", { enumerable: !0, get: function() {
    return t.canSetCaret;
  } });
})(ae);
var g = {}, B = {};
function Ze(e, t, n) {
  const r = n.value !== void 0 ? "value" : "get", o = n[r], i = `#${t}Cache`;
  if (n[r] = function(...s) {
    return this[i] === void 0 && (this[i] = o.apply(this, s)), this[i];
  }, r === "get" && n.set) {
    const s = n.set;
    n.set = function(l) {
      delete e[i], s.apply(this, l);
    };
  }
  return n;
}
function ce() {
  const e = {
    win: !1,
    mac: !1,
    x11: !1,
    linux: !1
  }, t = Object.keys(e).find((n) => window.navigator.appVersion.toLowerCase().indexOf(n) !== -1);
  return t !== void 0 && (e[t] = !0), e;
}
function A(e) {
  return e != null && e !== "" && (typeof e != "object" || Object.keys(e).length > 0);
}
function Je(e) {
  return !A(e);
}
const xe = () => typeof window < "u" && window.navigator !== null && A(window.navigator.platform) && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === "MacIntel" && window.navigator.maxTouchPoints > 1);
function et(e) {
  const t = ce();
  return e = e.replace(/shift/gi, "⇧").replace(/backspace/gi, "⌫").replace(/enter/gi, "⏎").replace(/up/gi, "↑").replace(/left/gi, "→").replace(/down/gi, "↓").replace(/right/gi, "←").replace(/escape/gi, "⎋").replace(/insert/gi, "Ins").replace(/delete/gi, "␡").replace(/\+/gi, "+"), t.mac ? e = e.replace(/ctrl|cmd/gi, "⌘").replace(/alt/gi, "⌥") : e = e.replace(/cmd/gi, "Ctrl").replace(/windows/gi, "WIN"), e;
}
function tt(e) {
  return e[0].toUpperCase() + e.slice(1);
}
function nt(e) {
  const t = document.createElement("div");
  t.style.position = "absolute", t.style.left = "-999px", t.style.bottom = "-999px", t.innerHTML = e, document.body.appendChild(t);
  const n = window.getSelection(), r = document.createRange();
  if (r.selectNode(t), n === null)
    throw new Error("Cannot copy text to clipboard");
  n.removeAllRanges(), n.addRange(r), document.execCommand("copy"), document.body.removeChild(t);
}
function rt(e, t, n) {
  let r;
  return (...o) => {
    const i = this, s = () => {
      r = void 0, n !== !0 && e.apply(i, o);
    }, l = n === !0 && r !== void 0;
    window.clearTimeout(r), r = window.setTimeout(s, t), l && e.apply(i, o);
  };
}
function p(e) {
  return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
}
function it(e) {
  return p(e) === "boolean";
}
function ue(e) {
  return p(e) === "function" || p(e) === "asyncfunction";
}
function ot(e) {
  return ue(e) && /^\s*class\s+/.test(e.toString());
}
function st(e) {
  return p(e) === "number";
}
function m(e) {
  return p(e) === "object";
}
function lt(e) {
  return Promise.resolve(e) === e;
}
function at(e) {
  return p(e) === "string";
}
function ct(e) {
  return p(e) === "undefined";
}
function P(e, ...t) {
  if (!t.length)
    return e;
  const n = t.shift();
  if (m(e) && m(n))
    for (const r in n)
      m(n[r]) ? (e[r] === void 0 && Object.assign(e, { [r]: {} }), P(e[r], n[r])) : Object.assign(e, { [r]: n[r] });
  return P(e, ...t);
}
function ut(e, t, n) {
  const r = `«${t}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;
  e && console.warn(r);
}
function dt(e) {
  try {
    return new URL(e).href;
  } catch {
  }
  return e.substring(0, 2) === "//" ? window.location.protocol + e : window.location.origin + e;
}
function pt(e) {
  return e > 47 && e < 58 || e === 32 || e === 13 || e === 229 || e > 64 && e < 91 || e > 95 && e < 112 || e > 185 && e < 193 || e > 218 && e < 223;
}
const ft = {
  BACKSPACE: 8,
  TAB: 9,
  ENTER: 13,
  SHIFT: 16,
  CTRL: 17,
  ALT: 18,
  ESC: 27,
  SPACE: 32,
  LEFT: 37,
  UP: 38,
  DOWN: 40,
  RIGHT: 39,
  DELETE: 46,
  META: 91,
  SLASH: 191
}, ht = {
  LEFT: 0,
  WHEEL: 1,
  RIGHT: 2,
  BACKWARD: 3,
  FORWARD: 4
};
class mt {
  constructor() {
    this.completed = Promise.resolve();
  }
  /**
   * Add new promise to queue
   * @param operation - promise should be added to queue
   */
  add(t) {
    return new Promise((n, r) => {
      this.completed = this.completed.then(t).then(n).catch(r);
    });
  }
}
function vt(e, t, n = void 0) {
  let r, o, i, s = null, l = 0;
  n || (n = {});
  const c = function() {
    l = n.leading === !1 ? 0 : Date.now(), s = null, i = e.apply(r, o), s === null && (r = o = null);
  };
  return function() {
    const d = Date.now();
    !l && n.leading === !1 && (l = d);
    const u = t - (d - l);
    return r = this, o = arguments, u <= 0 || u > t ? (s && (clearTimeout(s), s = null), l = d, i = e.apply(r, o), s === null && (r = o = null)) : !s && n.trailing !== !1 && (s = setTimeout(c, u)), i;
  };
}
const gt = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  PromiseQueue: mt,
  beautifyShortcut: et,
  cacheable: Ze,
  capitalize: tt,
  copyTextToClipboard: nt,
  debounce: rt,
  deepMerge: P,
  deprecationAssert: ut,
  getUserOS: ce,
  getValidUrl: dt,
  isBoolean: it,
  isClass: ot,
  isEmpty: Je,
  isFunction: ue,
  isIosDevice: xe,
  isNumber: st,
  isObject: m,
  isPrintableKey: pt,
  isPromise: lt,
  isString: at,
  isUndefined: ct,
  keyCodes: ft,
  mouseButtons: ht,
  notEmpty: A,
  throttle: vt,
  typeOf: p
}, Symbol.toStringTag, { value: "Module" })), $ = /* @__PURE__ */ We(gt);
Object.defineProperty(B, "__esModule", { value: !0 });
B.containsOnlyInlineElements = _t;
var bt = $, yt = k;
function _t(e) {
  var t;
  (0, bt.isString)(e) ? (t = document.createElement("div"), t.innerHTML = e) : t = e;
  var n = function(r) {
    return !(0, yt.blockElements)().includes(r.tagName.toLowerCase()) && Array.from(r.children).every(n);
  };
  return Array.from(t.children).every(n);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.containsOnlyInlineElements = void 0;
  var t = B;
  Object.defineProperty(e, "containsOnlyInlineElements", { enumerable: !0, get: function() {
    return t.containsOnlyInlineElements;
  } });
})(g);
var de = {}, F = {}, b = {}, H = {};
Object.defineProperty(H, "__esModule", { value: !0 });
H.make = Et;
function Et(e, t, n) {
  var r;
  t === void 0 && (t = null), n === void 0 && (n = {});
  var o = document.createElement(e);
  if (Array.isArray(t)) {
    var i = t.filter(function(l) {
      return l !== void 0;
    });
    (r = o.classList).add.apply(r, i);
  } else
    t !== null && o.classList.add(t);
  for (var s in n)
    Object.prototype.hasOwnProperty.call(n, s) && (o[s] = n[s]);
  return o;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.make = void 0;
  var t = H;
  Object.defineProperty(e, "make", { enumerable: !0, get: function() {
    return t.make;
  } });
})(b);
Object.defineProperty(F, "__esModule", { value: !0 });
F.fragmentToString = Pt;
var Ct = b;
function Pt(e) {
  var t = (0, Ct.make)("div");
  return t.appendChild(e), t.innerHTML;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.fragmentToString = void 0;
  var t = F;
  Object.defineProperty(e, "fragmentToString", { enumerable: !0, get: function() {
    return t.fragmentToString;
  } });
})(de);
var pe = {}, D = {};
Object.defineProperty(D, "__esModule", { value: !0 });
D.getContentLength = jt;
var Ot = f;
function jt(e) {
  var t, n;
  return (0, Ot.isNativeInput)(e) ? e.value.length : e.nodeType === Node.TEXT_NODE ? e.length : (n = (t = e.textContent) === null || t === void 0 ? void 0 : t.length) !== null && n !== void 0 ? n : 0;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.getContentLength = void 0;
  var t = D;
  Object.defineProperty(e, "getContentLength", { enumerable: !0, get: function() {
    return t.getContentLength;
  } });
})(pe);
var R = {}, W = {}, oe = v && v.__spreadArray || function(e, t, n) {
  if (n || arguments.length === 2)
    for (var r = 0, o = t.length, i; r < o; r++)
      (i || !(r in t)) && (i || (i = Array.prototype.slice.call(t, 0, r)), i[r] = t[r]);
  return e.concat(i || Array.prototype.slice.call(t));
};
Object.defineProperty(W, "__esModule", { value: !0 });
W.getDeepestBlockElements = fe;
var Lt = g;
function fe(e) {
  return (0, Lt.containsOnlyInlineElements)(e) ? [e] : Array.from(e.children).reduce(function(t, n) {
    return oe(oe([], t, !0), fe(n), !0);
  }, []);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.getDeepestBlockElements = void 0;
  var t = W;
  Object.defineProperty(e, "getDeepestBlockElements", { enumerable: !0, get: function() {
    return t.getDeepestBlockElements;
  } });
})(R);
var he = {}, q = {}, y = {}, U = {};
Object.defineProperty(U, "__esModule", { value: !0 });
U.isLineBreakTag = Tt;
function Tt(e) {
  return [
    "BR",
    "WBR"
  ].includes(e.tagName);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.isLineBreakTag = void 0;
  var t = U;
  Object.defineProperty(e, "isLineBreakTag", { enumerable: !0, get: function() {
    return t.isLineBreakTag;
  } });
})(y);
var _ = {}, z = {};
Object.defineProperty(z, "__esModule", { value: !0 });
z.isSingleTag = kt;
function kt(e) {
  return [
    "AREA",
    "BASE",
    "BR",
    "COL",
    "COMMAND",
    "EMBED",
    "HR",
    "IMG",
    "INPUT",
    "KEYGEN",
    "LINK",
    "META",
    "PARAM",
    "SOURCE",
    "TRACK",
    "WBR"
  ].includes(e.tagName);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.isSingleTag = void 0;
  var t = z;
  Object.defineProperty(e, "isSingleTag", { enumerable: !0, get: function() {
    return t.isSingleTag;
  } });
})(_);
Object.defineProperty(q, "__esModule", { value: !0 });
q.getDeepestNode = me;
var wt = f, Mt = y, St = _;
function me(e, t) {
  t === void 0 && (t = !1);
  var n = t ? "lastChild" : "firstChild", r = t ? "previousSibling" : "nextSibling";
  if (e.nodeType === Node.ELEMENT_NODE && e[n]) {
    var o = e[n];
    if ((0, St.isSingleTag)(o) && !(0, wt.isNativeInput)(o) && !(0, Mt.isLineBreakTag)(o))
      if (o[r])
        o = o[r];
      else if (o.parentNode !== null && o.parentNode[r])
        o = o.parentNode[r];
      else
        return o.parentNode;
    return me(o, t);
  }
  return e;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.getDeepestNode = void 0;
  var t = q;
  Object.defineProperty(e, "getDeepestNode", { enumerable: !0, get: function() {
    return t.getDeepestNode;
  } });
})(he);
var ve = {}, K = {}, h = v && v.__spreadArray || function(e, t, n) {
  if (n || arguments.length === 2)
    for (var r = 0, o = t.length, i; r < o; r++)
      (i || !(r in t)) && (i || (i = Array.prototype.slice.call(t, 0, r)), i[r] = t[r]);
  return e.concat(i || Array.prototype.slice.call(t));
};
Object.defineProperty(K, "__esModule", { value: !0 });
K.findAllInputs = $t;
var Nt = g, It = R, Bt = O, At = f;
function $t(e) {
  return Array.from(e.querySelectorAll((0, Bt.allInputsSelector)())).reduce(function(t, n) {
    return (0, At.isNativeInput)(n) || (0, Nt.containsOnlyInlineElements)(n) ? h(h([], t, !0), [n], !1) : h(h([], t, !0), (0, It.getDeepestBlockElements)(n), !0);
  }, []);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.findAllInputs = void 0;
  var t = K;
  Object.defineProperty(e, "findAllInputs", { enumerable: !0, get: function() {
    return t.findAllInputs;
  } });
})(ve);
var ge = {}, V = {};
Object.defineProperty(V, "__esModule", { value: !0 });
V.isCollapsedWhitespaces = Ft;
function Ft(e) {
  return !/[^\t\n\r ]/.test(e);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.isCollapsedWhitespaces = void 0;
  var t = V;
  Object.defineProperty(e, "isCollapsedWhitespaces", { enumerable: !0, get: function() {
    return t.isCollapsedWhitespaces;
  } });
})(ge);
var G = {}, Q = {};
Object.defineProperty(Q, "__esModule", { value: !0 });
Q.isElement = Dt;
var Ht = $;
function Dt(e) {
  return (0, Ht.isNumber)(e) ? !1 : !!e && !!e.nodeType && e.nodeType === Node.ELEMENT_NODE;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.isElement = void 0;
  var t = Q;
  Object.defineProperty(e, "isElement", { enumerable: !0, get: function() {
    return t.isElement;
  } });
})(G);
var be = {}, X = {}, Y = {}, Z = {};
Object.defineProperty(Z, "__esModule", { value: !0 });
Z.isLeaf = Rt;
function Rt(e) {
  return e === null ? !1 : e.childNodes.length === 0;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.isLeaf = void 0;
  var t = Z;
  Object.defineProperty(e, "isLeaf", { enumerable: !0, get: function() {
    return t.isLeaf;
  } });
})(Y);
var J = {}, x = {};
Object.defineProperty(x, "__esModule", { value: !0 });
x.isNodeEmpty = Kt;
var Wt = y, qt = G, Ut = f, zt = _;
function Kt(e, t) {
  var n = "";
  return (0, zt.isSingleTag)(e) && !(0, Wt.isLineBreakTag)(e) ? !1 : ((0, qt.isElement)(e) && (0, Ut.isNativeInput)(e) ? n = e.value : e.textContent !== null && (n = e.textContent.replace("​", "")), t !== void 0 && (n = n.replace(new RegExp(t, "g"), "")), n.trim().length === 0);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.isNodeEmpty = void 0;
  var t = x;
  Object.defineProperty(e, "isNodeEmpty", { enumerable: !0, get: function() {
    return t.isNodeEmpty;
  } });
})(J);
Object.defineProperty(X, "__esModule", { value: !0 });
X.isEmpty = Qt;
var Vt = Y, Gt = J;
function Qt(e, t) {
  e.normalize();
  for (var n = [e]; n.length > 0; ) {
    var r = n.shift();
    if (r) {
      if (e = r, (0, Vt.isLeaf)(e) && !(0, Gt.isNodeEmpty)(e, t))
        return !1;
      n.push.apply(n, Array.from(e.childNodes));
    }
  }
  return !0;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.isEmpty = void 0;
  var t = X;
  Object.defineProperty(e, "isEmpty", { enumerable: !0, get: function() {
    return t.isEmpty;
  } });
})(be);
var ye = {}, ee = {};
Object.defineProperty(ee, "__esModule", { value: !0 });
ee.isFragment = Yt;
var Xt = $;
function Yt(e) {
  return (0, Xt.isNumber)(e) ? !1 : !!e && !!e.nodeType && e.nodeType === Node.DOCUMENT_FRAGMENT_NODE;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.isFragment = void 0;
  var t = ee;
  Object.defineProperty(e, "isFragment", { enumerable: !0, get: function() {
    return t.isFragment;
  } });
})(ye);
var _e = {}, te = {};
Object.defineProperty(te, "__esModule", { value: !0 });
te.isHTMLString = Jt;
var Zt = b;
function Jt(e) {
  var t = (0, Zt.make)("div");
  return t.innerHTML = e, t.childElementCount > 0;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.isHTMLString = void 0;
  var t = te;
  Object.defineProperty(e, "isHTMLString", { enumerable: !0, get: function() {
    return t.isHTMLString;
  } });
})(_e);
var Ee = {}, ne = {};
Object.defineProperty(ne, "__esModule", { value: !0 });
ne.offset = xt;
function xt(e) {
  var t = e.getBoundingClientRect(), n = window.pageXOffset || document.documentElement.scrollLeft, r = window.pageYOffset || document.documentElement.scrollTop, o = t.top + r, i = t.left + n;
  return {
    top: o,
    left: i,
    bottom: o + t.height,
    right: i + t.width
  };
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.offset = void 0;
  var t = ne;
  Object.defineProperty(e, "offset", { enumerable: !0, get: function() {
    return t.offset;
  } });
})(Ee);
var Ce = {}, re = {};
Object.defineProperty(re, "__esModule", { value: !0 });
re.prepend = en;
function en(e, t) {
  Array.isArray(t) ? (t = t.reverse(), t.forEach(function(n) {
    return e.prepend(n);
  })) : e.prepend(t);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.prepend = void 0;
  var t = re;
  Object.defineProperty(e, "prepend", { enumerable: !0, get: function() {
    return t.prepend;
  } });
})(Ce);
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 }), e.prepend = e.offset = e.make = e.isLineBreakTag = e.isSingleTag = e.isNodeEmpty = e.isLeaf = e.isHTMLString = e.isFragment = e.isEmpty = e.isElement = e.isContentEditable = e.isCollapsedWhitespaces = e.findAllInputs = e.isNativeInput = e.allInputsSelector = e.getDeepestNode = e.getDeepestBlockElements = e.getContentLength = e.fragmentToString = e.containsOnlyInlineElements = e.canSetCaret = e.calculateBaseline = e.blockElements = e.append = void 0;
  var t = O;
  Object.defineProperty(e, "allInputsSelector", { enumerable: !0, get: function() {
    return t.allInputsSelector;
  } });
  var n = f;
  Object.defineProperty(e, "isNativeInput", { enumerable: !0, get: function() {
    return n.isNativeInput;
  } });
  var r = se;
  Object.defineProperty(e, "append", { enumerable: !0, get: function() {
    return r.append;
  } });
  var o = k;
  Object.defineProperty(e, "blockElements", { enumerable: !0, get: function() {
    return o.blockElements;
  } });
  var i = le;
  Object.defineProperty(e, "calculateBaseline", { enumerable: !0, get: function() {
    return i.calculateBaseline;
  } });
  var s = ae;
  Object.defineProperty(e, "canSetCaret", { enumerable: !0, get: function() {
    return s.canSetCaret;
  } });
  var l = g;
  Object.defineProperty(e, "containsOnlyInlineElements", { enumerable: !0, get: function() {
    return l.containsOnlyInlineElements;
  } });
  var c = de;
  Object.defineProperty(e, "fragmentToString", { enumerable: !0, get: function() {
    return c.fragmentToString;
  } });
  var d = pe;
  Object.defineProperty(e, "getContentLength", { enumerable: !0, get: function() {
    return d.getContentLength;
  } });
  var u = R;
  Object.defineProperty(e, "getDeepestBlockElements", { enumerable: !0, get: function() {
    return u.getDeepestBlockElements;
  } });
  var Pe = he;
  Object.defineProperty(e, "getDeepestNode", { enumerable: !0, get: function() {
    return Pe.getDeepestNode;
  } });
  var Oe = ve;
  Object.defineProperty(e, "findAllInputs", { enumerable: !0, get: function() {
    return Oe.findAllInputs;
  } });
  var je = ge;
  Object.defineProperty(e, "isCollapsedWhitespaces", { enumerable: !0, get: function() {
    return je.isCollapsedWhitespaces;
  } });
  var Le = N;
  Object.defineProperty(e, "isContentEditable", { enumerable: !0, get: function() {
    return Le.isContentEditable;
  } });
  var Te = G;
  Object.defineProperty(e, "isElement", { enumerable: !0, get: function() {
    return Te.isElement;
  } });
  var ke = be;
  Object.defineProperty(e, "isEmpty", { enumerable: !0, get: function() {
    return ke.isEmpty;
  } });
  var we = ye;
  Object.defineProperty(e, "isFragment", { enumerable: !0, get: function() {
    return we.isFragment;
  } });
  var Me = _e;
  Object.defineProperty(e, "isHTMLString", { enumerable: !0, get: function() {
    return Me.isHTMLString;
  } });
  var Se = Y;
  Object.defineProperty(e, "isLeaf", { enumerable: !0, get: function() {
    return Se.isLeaf;
  } });
  var Ne = J;
  Object.defineProperty(e, "isNodeEmpty", { enumerable: !0, get: function() {
    return Ne.isNodeEmpty;
  } });
  var Ie = y;
  Object.defineProperty(e, "isLineBreakTag", { enumerable: !0, get: function() {
    return Ie.isLineBreakTag;
  } });
  var Be = _;
  Object.defineProperty(e, "isSingleTag", { enumerable: !0, get: function() {
    return Be.isSingleTag;
  } });
  var Ae = b;
  Object.defineProperty(e, "make", { enumerable: !0, get: function() {
    return Ae.make;
  } });
  var $e = Ee;
  Object.defineProperty(e, "offset", { enumerable: !0, get: function() {
    return $e.offset;
  } });
  var Fe = Ce;
  Object.defineProperty(e, "prepend", { enumerable: !0, get: function() {
    return Fe.prepend;
  } });
})(a);
function E(e) {
  const n = (typeof e == "string" ? e : "").replace(/\r\n/g, `
`);
  return n ? n.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\n/g, "<br>") : "";
}
function C(e) {
  const t = e && typeof e.innerText == "string" ? e.innerText : "";
  return String(t || "").replace(/\u00A0/g, " ").trim();
}
class tn {
  constructor({ data: t, config: n, api: r, readOnly: o, block: i }) {
    this.css = {
      wrapper: "cdx-milestone",
      item: "cdx-milestone__item",
      label: "cdx-milestone__label",
      labelIcon: "cdx-milestone__label-icon",
      value: "cdx-milestone__value",
      chipBtn: "cdx-milestone__chip-btn",
      chooser: "cdx-milestone__chooser",
      chooserHeader: "cdx-milestone__chooser-header",
      chooserTitle: "cdx-milestone__chooser-title",
      chooserSpacer: "cdx-milestone__chooser-spacer",
      chooserInput: "cdx-milestone__chooser-input",
      chooserClose: "cdx-milestone__chooser-close",
      chooserList: "cdx-milestone__chooser-list",
      chooserItem: "cdx-milestone__chooser-item",
      chooserFooter: "cdx-milestone__chooser-footer",
      btn: "cdx-milestone__btn",
      btnPrimary: "primary",
      hint: "cdx-milestone__hint"
    }, this.fieldEls = /* @__PURE__ */ new Map(), this.chooserMode = null, this.selectedPeople = /* @__PURE__ */ new Set(), this.selectedProject = null, this.lastChooserQueryTs = 0, this.peopleCache = null, this.peopleLoading = !1, this.api = r, this.readOnly = o, this.block = i, this.config = n || {};
    const s = (l) => typeof l == "string" ? l : "";
    this.data = {
      content: s(t && t.content),
      time: s(t && t.time),
      people: s(t && t.people),
      projectName: s(t && t.projectName)
    };
  }
  static get toolbox() {
    return {
      title: "Milestone",
      icon: ie
    };
  }
  static get sanitize() {
    return {
      content: { br: !0 },
      time: { br: !0 },
      people: { br: !0 },
      projectName: { br: !0 }
    };
  }
  render() {
    const t = a.make("div", [this.css.wrapper]);
    this.wrapper = t;
    const n = (i, s) => {
      const l = a.make("div", [this.css.label]), c = a.make("span", [this.css.labelIcon]);
      return c.innerHTML = s, l.appendChild(c), l.appendChild(document.createTextNode(i)), l;
    }, r = (i, s) => {
      const l = a.make("div", [this.css.value]);
      return l.dataset.field = i, l.contentEditable = (!this.readOnly).toString(), l.setAttribute("data-placeholder", s), l.innerHTML = this.data[i] || "", this.readOnly || (l.addEventListener("input", () => {
        this.data[i] = l.innerHTML;
      }), l.addEventListener("blur", () => {
        const c = C(l);
        this.data[i] = E(c), l.innerHTML = this.data[i] || "";
      })), this.fieldEls.set(i, l), l;
    }, o = {
      content: this.api.i18n.t(this.config.contentPlaceholder || "节点内容"),
      time: this.api.i18n.t(this.config.timePlaceholder || "节点时间"),
      people: this.api.i18n.t(this.config.peoplePlaceholder || "相关人员"),
      projectName: this.api.i18n.t(this.config.projectNamePlaceholder || "项目名称")
    };
    {
      const i = a.make("div", [this.css.item]);
      i.appendChild(n(this.api.i18n.t("内容"), De)), i.appendChild(r("content", o.content)), t.appendChild(i);
    }
    {
      const i = a.make("div", [this.css.item]);
      i.appendChild(n(this.api.i18n.t("时间"), He)), i.appendChild(r("time", o.time)), t.appendChild(i);
    }
    {
      const i = a.make("div", [this.css.item]);
      if (i.appendChild(n(this.api.i18n.t("人员"), Re)), i.appendChild(r("people", o.people)), !this.readOnly) {
        const s = a.make("button", [this.css.chipBtn], {
          type: "button"
        });
        s.textContent = this.api.i18n.t("选择"), s.addEventListener("click", () => this.openPeopleChooser()), i.appendChild(s);
      }
      t.appendChild(i);
    }
    {
      const i = a.make("div", [this.css.item]);
      if (i.appendChild(n(this.api.i18n.t("项目"), ie)), i.appendChild(r("projectName", o.projectName)), !this.readOnly) {
        const s = a.make("button", [this.css.chipBtn], {
          type: "button"
        });
        s.textContent = this.api.i18n.t("选择"), s.addEventListener("click", () => this.openProjectChooser()), i.appendChild(s);
      }
      t.appendChild(i);
    }
    if (!this.readOnly) {
      t.appendChild(this.buildChooser());
      const i = a.make("div", [this.css.hint]);
      i.textContent = this.api.i18n.t("提示：人员可多选；项目名称来自历史 milestone 块的全局查询。"), this.chooserHintEl = i, t.appendChild(i);
    }
    return t;
  }
  save() {
    const t = (n) => {
      const r = this.fieldEls.get(n);
      if (!r)
        return this.data[n] || "";
      const o = C(r);
      return E(o);
    };
    return {
      content: t("content"),
      time: t("time"),
      people: t("people"),
      projectName: t("projectName")
    };
  }
  validate(t) {
    return !(!t || typeof t != "object");
  }
  buildChooser() {
    const t = a.make("div", [this.css.chooser]);
    this.chooserEl = t;
    const n = a.make("div", [this.css.chooserHeader]), r = a.make("div", [this.css.chooserTitle]);
    r.textContent = this.api.i18n.t("选择"), this.chooserTitleEl = r;
    const o = a.make("input", [this.css.chooserInput], {
      type: "text",
      placeholder: this.api.i18n.t("搜索…")
    });
    this.chooserInputEl = o, o.addEventListener("input", () => {
      this.chooserMode === "people" ? this.renderPeopleList(this.getPeopleCache(), o.value) : this.chooserMode === "project" && this.queryAndRenderProjects(o.value);
    });
    const i = a.make("div", [this.css.chooserSpacer]), s = a.make("button", [this.css.chooserClose], { type: "button" });
    s.textContent = this.api.i18n.t("关闭"), s.addEventListener("click", () => this.closeChooser()), n.appendChild(r), n.appendChild(i), n.appendChild(o), n.appendChild(s), t.appendChild(n);
    const l = a.make("div", [this.css.chooserList]);
    this.chooserListEl = l, t.appendChild(l);
    const c = a.make("div", [this.css.chooserFooter]);
    return this.chooserFooterEl = c, t.appendChild(c), t;
  }
  openChooser(t) {
    !this.chooserEl || !this.chooserInputEl || !this.chooserListEl || !this.chooserTitleEl || !this.chooserFooterEl || (this.chooserMode = t, this.chooserEl.classList.add("is-open"), this.chooserInputEl.value = "", this.chooserInputEl.focus(), this.chooserHintEl && (this.chooserHintEl.style.display = t === "people" ? "" : "none"), t === "people" ? (this.chooserTitleEl.textContent = this.api.i18n.t("选择相关人员"), this.selectedPeople = this.parsePeopleToSet(this.save().people), this.selectedProject = null, this.renderPeopleFooter(), this.ensurePeopleLoaded()) : (this.chooserTitleEl.textContent = this.api.i18n.t("选择项目名称"), this.selectedProject = this.getTextFieldValue("projectName"), this.selectedPeople.clear(), this.renderProjectFooter(), this.queryAndRenderProjects("")));
  }
  closeChooser() {
    this.chooserEl && (this.chooserEl.classList.remove("is-open"), this.chooserMode = null);
  }
  openPeopleChooser() {
    this.openChooser("people");
  }
  openProjectChooser() {
    this.openChooser("project");
  }
  getTextFieldValue(t) {
    const n = this.fieldEls.get(t);
    return n ? C(n) : "";
  }
  setFieldFromText(t, n) {
    const r = this.fieldEls.get(t), o = E(n);
    this.data[t] = o, r && (r.innerHTML = o);
  }
  getPeopleCache() {
    return Array.isArray(this.peopleCache) ? this.peopleCache : [];
  }
  async ensurePeopleLoaded() {
    if (this.peopleCache) {
      this.renderPeopleList(this.peopleCache, this.chooserInputEl ? this.chooserInputEl.value : "");
      return;
    }
    if (!this.peopleLoading) {
      this.peopleLoading = !0;
      try {
        if (!this.config.listPeople) {
          this.peopleCache = [], this.renderPeopleList([], "");
          return;
        }
        const t = await this.config.listPeople(), n = t && Array.isArray(t.users) ? t.users : [];
        this.peopleCache = n.filter((r) => r && typeof r.label == "string").map((r) => ({ id: Number(r.id), label: String(r.label).trim() })).filter((r) => Number.isFinite(r.id) && r.label.length > 0), this.renderPeopleList(this.peopleCache, this.chooserInputEl ? this.chooserInputEl.value : "");
      } catch {
        this.peopleCache = [], this.renderPeopleList([], "");
      } finally {
        this.peopleLoading = !1;
      }
    }
  }
  renderPeopleFooter() {
    if (!this.chooserFooterEl)
      return;
    this.chooserFooterEl.innerHTML = "";
    const t = a.make("button", [this.css.btn], { type: "button" });
    t.textContent = this.api.i18n.t("取消"), t.addEventListener("click", () => this.closeChooser());
    const n = a.make("button", [this.css.btn, this.css.btnPrimary], { type: "button" });
    n.textContent = this.api.i18n.t("应用"), n.addEventListener("click", () => {
      const r = Array.from(this.selectedPeople.values()).filter(Boolean);
      this.setFieldFromText("people", r.join("、")), this.closeChooser();
    }), this.chooserFooterEl.appendChild(t), this.chooserFooterEl.appendChild(n);
  }
  renderPeopleList(t, n) {
    if (!this.chooserListEl)
      return;
    const r = (n || "").trim().toLowerCase(), o = t.filter((i) => r ? (i.label || "").toLowerCase().includes(r) : !0);
    if (this.chooserListEl.innerHTML = "", o.length === 0) {
      const i = a.make("div", [this.css.hint]);
      i.textContent = this.api.i18n.t("无可选人员"), this.chooserListEl.appendChild(i);
      return;
    }
    o.forEach((i) => {
      const s = a.make("div", [this.css.chooserItem]);
      s.textContent = i.label, this.selectedPeople.has(i.label) && s.classList.add("is-selected"), s.addEventListener("click", () => {
        this.selectedPeople.has(i.label) ? (this.selectedPeople.delete(i.label), s.classList.remove("is-selected")) : (this.selectedPeople.add(i.label), s.classList.add("is-selected"));
      }), this.chooserListEl.appendChild(s);
    });
  }
  parsePeopleToSet(t) {
    const o = (t || "").replace(/<br\s*\/?>/gi, `
`).replace(/&nbsp;/gi, " ").replace(/<[^>]+>/g, "").split(/[,\n、;；]+/g).map((i) => i.trim()).filter(Boolean);
    return new Set(o);
  }
  // ---- Project ----
  renderProjectFooter() {
    if (!this.chooserFooterEl)
      return;
    this.chooserFooterEl.innerHTML = "";
    const t = a.make("button", [this.css.btn], { type: "button" });
    t.textContent = this.api.i18n.t("关闭"), t.addEventListener("click", () => this.closeChooser()), this.chooserFooterEl.appendChild(t);
  }
  async queryAndRenderProjects(t) {
    if (!this.chooserListEl)
      return;
    if (!this.config.queryBlocks) {
      this.chooserListEl.innerHTML = "";
      const o = a.make("div", [this.css.hint]);
      o.textContent = this.api.i18n.t("未配置项目查询接口"), this.chooserListEl.appendChild(o);
      return;
    }
    const n = Date.now();
    this.lastChooserQueryTs = n;
    const r = (t || "").trim();
    try {
      const o = await this.config.queryBlocks({
        type: "milestone",
        field: "projectName",
        q: r,
        limit: 200
      });
      if (this.lastChooserQueryTs !== n)
        return;
      const i = o && Array.isArray(o.items) ? o.items : [], s = [], l = /* @__PURE__ */ new Set();
      i.forEach((c) => {
        const u = (c && c.data && typeof c.data.projectName == "string" ? c.data.projectName : "").replace(/<br\s*\/?>/gi, `
`).replace(/&nbsp;/gi, " ").replace(/<[^>]+>/g, "").trim();
        u && (l.has(u) || (l.add(u), s.push(u)));
      }), this.renderProjectList(s, r);
    } catch {
      if (this.lastChooserQueryTs !== n)
        return;
      this.renderProjectList([], r);
    }
  }
  renderProjectList(t, n) {
    if (!this.chooserListEl)
      return;
    const r = (n || "").trim().toLowerCase(), o = t.filter((i) => r ? i.toLowerCase().includes(r) : !0);
    if (this.chooserListEl.innerHTML = "", o.length === 0) {
      const i = a.make("div", [this.css.hint]);
      i.textContent = this.api.i18n.t("无可选项目名称"), this.chooserListEl.appendChild(i);
      return;
    }
    o.forEach((i) => {
      const s = a.make("div", [this.css.chooserItem]);
      s.textContent = i, this.selectedProject && this.selectedProject === i && s.classList.add("is-selected"), s.addEventListener("click", () => {
        this.setFieldFromText("projectName", i), this.closeChooser();
      }), this.chooserListEl.appendChild(s);
    });
  }
}
export {
  tn as default
};
